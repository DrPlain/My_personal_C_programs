#include <stdio.h>
#include "algorithm.h"
#include <time.h>

int main(void)
{
    clock_t begin = clock();

    int A[] = {57, 885, 981, 557, 363, 944, 603, 115, 811, 99, 313, 437, 874, 494, 796, 301, 117, 970, 122, 453, 412, 178, 801, 38, 126, 142, 933, 601, 607, 207, 196, 755, 797, 679, 164, 28, 427, 792, 581, 877, 590, 71, 456, 686, 210, 33, 676, 555, 415, 166, 913, 845, 336, 231, 745, 465, 372, 406, 904, 163, 449, 710, 727, 85, 360, 736, 912, 807, 633, 658, 428, 545, 632, 120, 43, 556, 550, 906, 330, 540, 268, 685, 586, 760, 860, 373, 527, 357, 77, 701, 537, 828, 719, 2, 846, 925, 785, 659, 819, 381, 236, 153, 980, 883, 307, 385, 53, 766, 750, 444, 495, 364, 702, 436, 583, 285, 660, 179, 375, 936, 317, 714, 180, 441, 628, 338, 856, 786, 609, 223, 520, 584, 909, 414, 89, 587, 841, 248, 825, 368, 182, 597, 250, 836, 937, 352, 109, 40, 744, 44, 468, 208, 534, 975, 226, 433, 455, 246, 948, 314, 64, 733, 779, 482, 203, 530, 75, 14, 170, 359, 704, 392, 647, 264, 708, 131, 127, 863, 261, 95, 852, 243, 511, 383, 331, 670, 879, 190, 10, 551, 916, 539, 100, 718, 903, 387, 487, 774, 66, 410, 306, 689, 614, 386, 488, 814, 222, 661, 548, 365, 640, 853, 611, 362, 87, 837, 910, 454, 891, 176, 377, 22, 129, 37, 320, 782, 971, 477, 622, 382, 677, 343, 399, 833, 654, 17, 990, 73, 498, 671, 322, 523, 665, 499, 147, 595, 732, 655, 98, 675, 790, 949, 148, 997, 435, 479, 986, 544, 514, 92, 466, 101, 23, 459, 529, 565, 605, 247, 673, 24, 266, 668, 16, 354, 747, 561, 966, 902, 642, 541, 596, 958, 746, 91, 181, 758, 983, 165, 988, 960, 725, 398, 187, 924, 405, 635, 256, 96, 820, 484, 62, 339, 729, 973, 822, 989, 826, 683, 1000, 931, 568, 917, 830, 674, 252, 573, 175, 206, 600, 810, 259, 172, 500, 563, 712, 25, 215, 29, 13, 964, 690, 249, 717, 612, 585, 174, 919, 388, 480, 55, 512, 78, 376, 763, 337, 908, 390, 319, 48, 773, 984, 795, 637, 882, 113, 938, 616, 698, 472, 258, 515, 369, 602, 805, 752, 278, 688, 705, 138, 374, 326, 490, 193, 446, 146, 570, 644, 739, 489, 269, 591, 60, 624, 463, 391, 800, 281, 843, 951, 400, 872, 532, 296, 280, 693, 267, 768, 994, 887, 311, 646, 492, 448, 112, 294, 485, 157, 97, 411, 648, 219, 525, 74, 431, 751, 47, 829, 589, 886, 521, 167, 809, 118, 366, 440, 923, 272, 982, 316, 116, 709, 438, 409, 858, 429, 613, 762, 765, 978, 866, 623, 254, 815, 606, 473, 788, 824, 79, 335, 666, 1, 716, 742, 939, 631, 740, 900, 921, 784, 384, 287, 995, 143, 408, 54, 956, 370, 641, 851, 731, 350, 7, 310, 993, 681, 656, 171, 542, 859, 457, 618, 604, 160, 15, 304, 942, 240, 424, 277, 213, 857, 780, 954, 649, 121, 867, 83, 426, 443, 348, 162, 496, 769, 134, 957, 987, 293, 200, 842, 110, 199, 26, 715, 345, 926, 20, 21, 802, 593, 156, 50, 225, 41, 504, 242, 543, 204, 559, 996, 696, 19, 847, 571, 592, 778, 772, 669, 470, 209, 950, 566, 201, 625, 854, 253, 460, 799, 111, 70, 212, 703, 549, 42, 402, 682, 18, 461, 932, 918, 552, 76, 462, 195, 105, 380, 905, 232, 730, 706, 221, 582, 639, 123, 295, 93, 963, 941, 893, 630, 888, 67, 694, 771, 560, 869, 228, 813, 977, 168, 564, 458, 442, 396, 839, 743, 347, 119, 80, 962, 502, 421, 481, 39, 186, 528, 818, 216, 875, 503, 315, 439, 104, 423, 265, 3, 238, 861, 831, 945, 577, 650, 56, 379, 90, 355, 757, 509, 133, 257, 664, 922, 9, 791, 889, 88, 572, 282, 720, 36, 108, 536, 234, 726, 464, 52, 946, 535, 483, 342, 102, 546, 61, 823, 279, 34, 844, 678, 621, 270, 255, 299, 929, 808, 848, 629, 657, 864, 413, 687, 263, 911, 711, 35, 920, 634, 578, 273, 114, 194, 827, 991, 684, 501, 303, 662, 290, 434, 992, 214, 753, 947, 235, 124, 741, 598, 832, 491, 106, 959, 738};
    int lb, ub, i, size;
    lb = 0;
    size = (sizeof(A) / sizeof(A[0]));
    ub = size - 1;

    mergeSort(A, lb, ub);
    print_array(A, size);

    clock_t end = clock();
    double time_spent = (double)(end - begin) / CLOCKS_PER_SEC;
    printf("%f seconds\n", time_spent);
    return 0;
}

/*
 * mergeSort - function that recursively divides the array into
 * sorted sub-arrays and merges the sorted sub-arrays
 * @A: Array to be sorted
 * @lb: lower boundary of array
 * @ub: Upper boundary of array
 * Return: void
 */
void mergeSort(int *A, int lb, int ub)
{
    int mid;

    if (lb < ub) /*Exit case: Array contains more than one element*/
    {
        mid = (lb + ub) / 2;
        mergeSort(A, lb, mid);
        mergeSort(A, mid + 1, ub);
        merge(A, lb, mid, ub);
    }
}

/*
 * merge - Merges the sorted sub-array
 * @A: Main array
 * @lb: Lower boundary of array
 * @mid: Mid index of array
 * @ub: Upper boundary of array
 * Return: void
 */
void merge(int *A, int lb, int mid, int ub)
{
    int B[ub + 1]; /*Decare an array to store sorted elements*/
    int i, j, k;

    i = lb; /*Loop counter for left sub array*/
    j = mid + 1; /*Loop counter for right sub array*/
    k = lb; /*Loop counter for array B*/

    while (i <= mid && j <= ub)
    {
        if (A[i] < A[j])
        {
            B[k] = A[i];
            i++;
        }
        else
        {
            B[k] = A[j];
            j++;
        }
        k++;
    }
    if (i > mid)
    {
        while (j <= ub)
        {
            B[k] = A[j];
            j++;
            k++;
        }
    }
    else
    {
        while ( i <= mid)
        {
            B[k] = A[i];
            i++;
            k++;
        }
    }
    /*Copy the new sorted array into initial array*/
    for (k = lb; k <= ub; i++)
    {
        A[k] = B[k];
        k++;
    }
}